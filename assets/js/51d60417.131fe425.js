"use strict";(self.webpackChunkrahat_documentation=self.webpackChunkrahat_documentation||[]).push([[1019],{28453:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>o});var r=t(96540);const i={},s=r.createContext(i);function a(e){const n=r.useContext(s);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),r.createElement(s.Provider,{value:n},e.children)}},75917:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>u,frontMatter:()=>a,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"community-tool","title":"Overview","description":"Community-tool","source":"@site/versioned_docs/version-2.1/Beneficiary_management-tool.md","sourceDirName":".","slug":"/community-tool","permalink":"/docs/2.1/community-tool","draft":false,"unlisted":false,"editUrl":"https://github.com/rahataid/rahat-documentation/blob/dev/versioned_docs/version-2.1/Beneficiary_management-tool.md","tags":[],"version":"2.1","lastUpdatedAt":1758175636000,"frontMatter":{"id":"community-tool"},"sidebar":"tutorialSidebar","previous":{"title":"Integration","permalink":"/docs/2.1/integration"},"next":{"title":"apps","permalink":"/docs/2.1/sdk-documentation/apps"}}');var i=t(74848),s=t(28453);const a={id:"community-tool"},o="Overview",l={},c=[{value:"Community-tool",id:"community-tool",level:2},{value:"Environment Variables",id:"environment-variables",level:2},{value:"Run Locally",id:"run-locally",level:2},{value:"SDK",id:"sdk",level:2},{value:"Installation",id:"installation",level:3},{value:"Getting Started",id:"getting-started",level:3},{value:"Example",id:"example",level:3}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"overview",children:"Overview"})}),"\n",(0,i.jsx)(n.h2,{id:"community-tool",children:"Community-tool"}),"\n",(0,i.jsx)(n.p,{children:"The Community Tool is designed to facilitate efficient management of beneficiary data, ensuring accuracy, reliability, and security. It provides targeting, grouping, and reporting capabilities for beneficiaries based on geographical, social, economic, and physical indicators."}),"\n",(0,i.jsx)(n.h2,{id:"environment-variables",children:"Environment Variables"}),"\n",(0,i.jsx)(n.p,{children:"To run this project, you will need to add the following environment variables to your .env file"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"PORT=5505\nPORT_BEN=5501\nPRIVATE_KEY=FILL_WITH_YOUR_PRIVATE_KEY\nKOBO_URL= FILL_WITH_YOUR_KOBO_TOOL_URL\nAUTH_TOKEN=FILL_WITH_YOUR_AUTH_TOKEN\n"})}),"\n",(0,i.jsx)(n.p,{children:"JWT setup"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"JWT_SECRET_KEY=FILL_WITH_YOUR_SECRET_KEY\nJWT_EXPIRATION_TIME=604800000\nJWT_EXPIRATION_LONG_TIME=604800000\n"})}),"\n",(0,i.jsx)(n.p,{children:"OTP time duration"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"OTP_DURATION_IN_SECS=300\n\n"})}),"\n",(0,i.jsx)(n.p,{children:"Redis setup"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"REDIS_HOST= FILL_WITH_YOUR_REDIS_HOST\nREDIS_PORT= FILL_WITH_YOUR_REDIS_PORT\nREDIS_PASSWORD=FILL_WITH_YOUR_REDIS_PASSSWORD\n"})}),"\n",(0,i.jsx)(n.p,{children:"Postgres database config"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"DB_HOST=FILL_WITH_YOUR_DB_HOST\nDB_PORT=5432\nDB_USERNAME= FILL_WITH_YOUR_USERNAME\nDB_PASSWORD=FILL_WITH_YOUR_PASSWORD\nDB_NAME= FILL_WITH_YOUR_DB_NAME\n"})}),"\n",(0,i.jsx)(n.p,{children:"Prisma database connection"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"DATABASE_URL=postgresql://${DB_USERNAME}:${DB_PASSWORD}@${DB_HOST}:${DB_PORT}/${DB_NAME}?schema=public\n"})}),"\n",(0,i.jsx)(n.p,{children:"SMTP setup"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"#Mailing Service\nSMTP_HOST=smtp.gmail.com\nSMTP_PORT=465\nSMTP_USERNAME= FILL_WITH_YOUR_USERNAME\nSMTP_PASSWORD= FILL_WITH_YOUR_PASSWORD\n"})}),"\n",(0,i.jsx)(n.h2,{id:"run-locally",children:"Run Locally"}),"\n",(0,i.jsx)(n.p,{children:"Clone the project"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"  git clone https://github.com/rahataid/rahat-beneficiary-mgmt.git\n"})}),"\n",(0,i.jsx)(n.p,{children:"Go to the project directory"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"  cd rahat-beneficiary-mgmt\n"})}),"\n",(0,i.jsx)(n.p,{children:"Install dependencies"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"  pnpm install\n"})}),"\n",(0,i.jsx)(n.p,{children:"Prisma migration"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:" npx prisma migrate dev\n"})}),"\n",(0,i.jsx)(n.p,{children:"Start the server"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"  pnpm dev\n"})}),"\n",(0,i.jsx)(n.h2,{id:"sdk",children:"SDK"}),"\n",(0,i.jsx)(n.h3,{id:"installation",children:"Installation"}),"\n",(0,i.jsx)(n.p,{children:"You can install the SDK via pnpm:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"pnpm install @rahataid/community-tool-sdk\n"})}),"\n",(0,i.jsx)(n.p,{children:"You need to install rumsan/react-query package:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"pnpm install @rumsan/react-query\n"})}),"\n",(0,i.jsx)(n.h3,{id:"getting-started",children:"Getting Started"}),"\n",(0,i.jsx)(n.p,{children:"To get started with SDK"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Import client function it in your project from the SDK module you installed :"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"  import { clientName } from '@rahataid/community-tool-sdk/clients'\n\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Import required hook from the ",(0,i.jsx)(n.code,{children:"@tanstack/react-query"})]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"import {\n  UseQueryResult,\n  useMutation,\n  useQuery,\n  useQueryClient,\n} from '@tanstack/react-query';\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Import hooks ",(0,i.jsx)(n.strong,{children:"useRSQuery"})," from the ",(0,i.jsx)(n.code,{children:"rumsan/react-query"})," package :"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"import {  useRSQuery } from '@rumsan/react-query'\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Import other hooks, function, types/interface and constants from the varios modules and package as required"}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Create a custom hook that uses React Query to fetch the application"}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Initialize the service from ",(0,i.jsx)(n.strong,{children:"useRSQuery"})," hook"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"  const { queryClient, rumsanService } = useRSQuery();\n\n"})}),"\n",(0,i.jsx)(n.h3,{id:"example",children:"Example"}),"\n",(0,i.jsxs)(n.p,{children:["Let's take an example for the ",(0,i.jsx)(n.code,{children:"appClient"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"import { getAppClient } from '@rahataid/community-tool-sdk/clients';\nimport { useQuery, useRSQuery } from '@rumsan/react-query';\nimport { FilterStatsDto } from '@rahataid/community-tool-sdk/app';\n\nexport const useAppStatsList = (data?: FilterStatsDto) => {\n  // Get queryClient and rumsanService from useRSQuery hook\n  const { queryClient, rumsanService } = useRSQuery();\n\n  // Get appStatsClient using getAppClient function from SDK\n  const appStatsClient = getAppClient(rumsanService.client);\n\n  // Define query using useQuery hook from react-query\n  const query = useQuery(\n    {\n      queryKey: [\"GET_DASHBOARD\", data], // Unique key for the query\n      queryFn: () => appStatsClient.getAppStats(data), // Function to fetch data\n    },\n    queryClient, // Provide queryClient instance\n  );\n\n  return query; // Return the query object\n};\n\n"})})]})}function u(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}}}]);